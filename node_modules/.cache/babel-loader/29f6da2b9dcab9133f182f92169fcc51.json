{"ast":null,"code":"import _classCallCheck from\"/home/mannu/Desktop/Project/order-dashboard/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/mannu/Desktop/Project/order-dashboard/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/mannu/Desktop/Project/order-dashboard/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/mannu/Desktop/Project/order-dashboard/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from\"react\";import Header from\"./component/header/header\";import\"./App.css\";import Tile from\"./component/tile/tile\";import Footer from\"./component/footer/footer\";import OrderTable from\"./component/orderTable/OrderTable\";import UserTable from\"./component/userTable/UserTable\";import DetailTable from\"./component/detailTable/DetailTable\";import Chart from\"./component/chart/Charts\";import firebase from\"./firebase\";var App=/*#__PURE__*/function(_React$Component){_inherits(App,_React$Component);var _super=_createSuper(App);function App(props){var _this;_classCallCheck(this,App);_this=_super.call(this,props);_this.state={totalOrders:[],topFiveOrder:[],bottomFiveOrder:[],topFiveUsers:[],bottomFiveUsers:[],dateData:[],amountData:[],currentDayOrderCount:0,currentDayOrderAmount:0,currentWeekOrderAmount:0,currentWeekOrderCount:0,currentMonthOrderAmount:0,curentMonthOrderCount:0,lastMonthOrderAmount:0,lastMonthOrderCount:0};return _this;}_createClass(App,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;var totalOrdersRef=firebase.database().ref(\"orders\");totalOrdersRef.on(\"value\",function(snapshot){var totalOrders=snapshot.val();var newState=[];for(var i=0;i<totalOrders.length;i++){newState.push({orderNum:totalOrders[i].orderNum,userName:totalOrders[i].userName,createdDate:totalOrders[i].createdDate,status:totalOrders[i].status,amount:totalOrders[i].amount,quantity:totalOrders[i].quantity,region:totalOrders[i].region});}// for getting top 5 order based on order number\nvar topFiveOrder=[].concat(newState);topFiveOrder=topFiveOrder.sort(function(a,b){return b.orderNum-a.orderNum;});// for getting bottom 5 order based on order number\nvar bottomFiveOrder=[].concat(newState);bottomFiveOrder=bottomFiveOrder.sort(function(a,b){return a.orderNum-b.orderNum;});// for getting top 5 users based on order amount\nvar topFiveUsers=[].concat(newState);topFiveUsers=topFiveUsers.sort(function(a,b){return b.amount-a.amount;});// for getting bottom 5 users based on order amount\nvar bottomFiveUsers=[].concat(newState);bottomFiveUsers=bottomFiveUsers.sort(function(a,b){return a.amount-b.amount;});// for getting date data array for plotting on chart\nvar dateData=[].concat(newState);dateData=dateData.map(function(data){return data.createdDate;});// for getting amount data array for plotting on chart\nvar amountData=[].concat(newState);amountData=amountData.map(function(data){return data.amount;});// for getting today's order amount and quantity\nvar todayDate=new Date();//  todayDate.setDate(4)\ntodayDate=todayDate.toISOString().slice(0,10);var todayTotalOrderQuantity=0;var todayTotalOrderAmount=0;for(var _i=0;_i<newState.length;_i++){if(todayDate===newState[_i].createdDate){todayTotalOrderQuantity+=newState[_i].quantity;todayTotalOrderAmount+=newState[_i].amount;}}// for getting current week amount and quantity\nvar weekData=[].concat(newState);var currentWeekOrderAmount=0;var currentWeekOrderCount=0;var today=new Date();//  today.setDate(4);\nfor(var _i2=today.getDay(),j=0;_i2>=0;_i2--,j++){var checkDate=new Date(today.getFullYear(),today.getMonth(),today.getDate()-j+1).toISOString().slice(0,10);for(var k=0;k<newState.length;k++){if(checkDate===newState[k].createdDate){currentWeekOrderAmount+=newState[k].amount;currentWeekOrderCount+=newState[k].quantity;}}}// for getting current month data\nvar currentMonthOrderAmount=0;var currentMonthOrderCount=0;for(var _i3=today.getDate(),_j=0;_i3>=1;_i3--,_j++){var _checkDate=new Date(today.getFullYear(),today.getMonth(),today.getDate()-_j+1).toISOString().slice(0,10);for(var _k=0;_k<weekData.length;_k++){if(_checkDate===weekData[_k].createdDate){currentMonthOrderAmount+=weekData[_k].amount;currentMonthOrderCount+=weekData[_k].quantity;}}}// for getting last month data\nvar lastMonthOrderAmount=0;var lastMonthOrderCount=0;for(var _i4=1;_i4<=31;_i4++){var date=new Date();var d=new Date(date.getFullYear(),date.getMonth()-1,1+_i4).toISOString().slice(0,10);for(var _k2=0;_k2<weekData.length;_k2++){if(d===weekData[_k2].createdDate){lastMonthOrderAmount+=weekData[_k2].amount;lastMonthOrderCount+=weekData[_k2].quantity;}}}_this2.setState({totalOrders:newState,topFiveOrder:topFiveOrder.slice(0,5),bottomFiveOrder:bottomFiveOrder.slice(0,5),topFiveUsers:topFiveUsers.slice(0,5),bottomFiveUsers:bottomFiveUsers.slice(0,5),dateData:dateData,amountData:amountData,currentDayOrderCount:todayTotalOrderQuantity,currentDayOrderAmount:todayTotalOrderAmount,currentWeekOrderCount:currentWeekOrderCount,currentWeekOrderAmount:currentWeekOrderAmount,currentMonthOrderAmount:currentMonthOrderAmount,currentMonthOrderCount:currentMonthOrderCount,lastMonthOrderAmount:lastMonthOrderAmount,lastMonthOrderCount:lastMonthOrderCount});});}},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(\"div\",{className:\"conatiner\"},/*#__PURE__*/React.createElement(Header,null),/*#__PURE__*/React.createElement(\"div\",{className:\"box-outer\"},/*#__PURE__*/React.createElement(Tile,{Text1:\"Today’s total  number of Orders - \",Text2:\"Current week total order’s count - \",TodayOrderCount:this.state.currentDayOrderCount,WeekOrderCount:this.state.currentWeekOrderCount}),/*#__PURE__*/React.createElement(Tile,{Text1:\"Today’s total  Order’s amount - \",Text2:\"Current week total order’s amount - \",TodayOrderCount:this.state.currentDayOrderAmount,WeekOrderCount:this.state.currentWeekOrderAmount}),/*#__PURE__*/React.createElement(Tile,{Text1:\"Current month total order’s count - \",Text2:\"Last month total order’s count - \",TodayOrderCount:this.state.currentMonthOrderCount,WeekOrderCount:this.state.lastMonthOrderCount}),/*#__PURE__*/React.createElement(Tile,{Text1:\"Current month total order’s amount -\",Text2:\"Last month total order’s amount-\",TodayOrderCount:this.state.currentMonthOrderAmount,WeekOrderCount:this.state.lastMonthOrderAmount})),/*#__PURE__*/React.createElement(Chart,{dateData:this.state.dateData,amountData:this.state.amountData}),/*#__PURE__*/React.createElement(\"h2\",null,\"Top five Order \"),/*#__PURE__*/React.createElement(OrderTable,{orderTableData:this.state.topFiveOrder}),/*#__PURE__*/React.createElement(\"h2\",null,\"Bottom five Order \"),/*#__PURE__*/React.createElement(OrderTable,{orderTableData:this.state.bottomFiveOrder}),/*#__PURE__*/React.createElement(\"h2\",null,\"Top five Users \"),/*#__PURE__*/React.createElement(UserTable,{userTableData:this.state.topFiveUsers}),/*#__PURE__*/React.createElement(\"h2\",null,\"Bottom five Users \"),/*#__PURE__*/React.createElement(UserTable,{userTableData:this.state.bottomFiveUsers}),/*#__PURE__*/React.createElement(\"h2\",null,\"Detail Order Report \"),/*#__PURE__*/React.createElement(DetailTable,{detailTableData:this.state.totalOrders}),/*#__PURE__*/React.createElement(Footer,null));}}]);return App;}(React.Component);export default App;","map":{"version":3,"sources":["/home/mannu/Desktop/Project/order-dashboard/src/App.js"],"names":["React","Header","Tile","Footer","OrderTable","UserTable","DetailTable","Chart","firebase","App","props","state","totalOrders","topFiveOrder","bottomFiveOrder","topFiveUsers","bottomFiveUsers","dateData","amountData","currentDayOrderCount","currentDayOrderAmount","currentWeekOrderAmount","currentWeekOrderCount","currentMonthOrderAmount","curentMonthOrderCount","lastMonthOrderAmount","lastMonthOrderCount","totalOrdersRef","database","ref","on","snapshot","val","newState","i","length","push","orderNum","userName","createdDate","status","amount","quantity","region","sort","a","b","map","data","todayDate","Date","toISOString","slice","todayTotalOrderQuantity","todayTotalOrderAmount","weekData","today","getDay","j","checkDate","getFullYear","getMonth","getDate","k","currentMonthOrderCount","date","d","setState","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport Header from \"./component/header/header\";\nimport \"./App.css\";\nimport Tile from \"./component/tile/tile\";\nimport Footer from \"./component/footer/footer\";\nimport OrderTable from \"./component/orderTable/OrderTable\";\nimport UserTable from \"./component/userTable/UserTable\";\nimport DetailTable from \"./component/detailTable/DetailTable\";\nimport Chart from \"./component/chart/Charts\";\n\nimport firebase from \"./firebase\";\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      totalOrders: [],\n      topFiveOrder: [],\n      bottomFiveOrder: [],\n      topFiveUsers: [],\n      bottomFiveUsers: [],\n      dateData: [],\n      amountData: [],\n      currentDayOrderCount: 0,\n      currentDayOrderAmount: 0,\n      currentWeekOrderAmount: 0,\n      currentWeekOrderCount: 0,\n      currentMonthOrderAmount: 0,\n      curentMonthOrderCount: 0,\n      lastMonthOrderAmount: 0,\n      lastMonthOrderCount: 0,\n    };\n  }\n\n  componentDidMount() {\n    const totalOrdersRef = firebase.database().ref(\"orders\");\n    totalOrdersRef.on(\"value\", (snapshot) => {\n      let totalOrders = snapshot.val();\n      let newState = [];\n\n      for (var i = 0; i < totalOrders.length; i++) {\n        newState.push({\n          orderNum: totalOrders[i].orderNum,\n          userName: totalOrders[i].userName,\n          createdDate: totalOrders[i].createdDate,\n          status: totalOrders[i].status,\n          amount: totalOrders[i].amount,\n          quantity: totalOrders[i].quantity,\n          region: totalOrders[i].region,\n        });\n      }\n\n      // for getting top 5 order based on order number\n      let topFiveOrder = [...newState];\n      topFiveOrder = topFiveOrder.sort((a, b) => {\n        return b.orderNum - a.orderNum;\n      });\n\n      // for getting bottom 5 order based on order number\n      let bottomFiveOrder = [...newState];\n      bottomFiveOrder = bottomFiveOrder.sort((a, b) => {\n        return a.orderNum - b.orderNum;\n      });\n\n      // for getting top 5 users based on order amount\n      let topFiveUsers = [...newState];\n      topFiveUsers = topFiveUsers.sort((a, b) => {\n        return b.amount - a.amount;\n      });\n\n      // for getting bottom 5 users based on order amount\n      let bottomFiveUsers = [...newState];\n      bottomFiveUsers = bottomFiveUsers.sort((a, b) => {\n        return a.amount - b.amount;\n      });\n\n      // for getting date data array for plotting on chart\n      let dateData = [...newState];\n      dateData = dateData.map((data) => {\n        return data.createdDate;\n      });\n\n      // for getting amount data array for plotting on chart\n      let amountData = [...newState];\n      amountData = amountData.map((data) => {\n        return data.amount;\n      });\n\n      // for getting today's order amount and quantity\n      let todayDate = new Date();\n      //  todayDate.setDate(4)\n      todayDate = todayDate.toISOString().slice(0, 10);\n      let todayTotalOrderQuantity = 0;\n      let todayTotalOrderAmount = 0;\n      for (let i = 0; i < newState.length; i++) {\n        if (todayDate === newState[i].createdDate) {\n          todayTotalOrderQuantity += newState[i].quantity;\n          todayTotalOrderAmount += newState[i].amount;\n        }\n      }\n\n      // for getting current week amount and quantity\n      let weekData = [...newState];\n      let currentWeekOrderAmount = 0;\n      let currentWeekOrderCount = 0;\n\n      var today = new Date();\n      //  today.setDate(4);\n\n      for (let i = today.getDay(), j = 0; i >= 0; i--, j++) {\n        let checkDate = new Date(\n          today.getFullYear(),\n          today.getMonth(),\n          today.getDate() - j + 1\n        )\n          .toISOString()\n          .slice(0, 10);\n\n        for (let k = 0; k < newState.length; k++) {\n          if (checkDate === newState[k].createdDate) {\n            currentWeekOrderAmount += newState[k].amount;\n            currentWeekOrderCount += newState[k].quantity;\n          }\n        }\n      }\n\n      // for getting current month data\n      let currentMonthOrderAmount = 0;\n      let currentMonthOrderCount = 0;\n      for (let i = today.getDate(), j = 0; i >= 1; i--, j++) {\n        let checkDate = new Date(\n          today.getFullYear(),\n          today.getMonth(),\n          today.getDate() - j + 1\n        )\n          .toISOString()\n          .slice(0, 10);\n\n        for (let k = 0; k < weekData.length; k++) {\n          if (checkDate === weekData[k].createdDate) {\n            currentMonthOrderAmount += weekData[k].amount;\n            currentMonthOrderCount += weekData[k].quantity;\n          }\n        }\n      }\n\n      // for getting last month data\n      let lastMonthOrderAmount = 0;\n      let lastMonthOrderCount = 0;\n\n      for (let i = 1; i <= 31; i++) {\n        let date = new Date();\n        let d = new Date(date.getFullYear(), date.getMonth() - 1, 1 + i)\n          .toISOString()\n          .slice(0, 10);\n\n        for (let k = 0; k < weekData.length; k++) {\n          if (d === weekData[k].createdDate) {\n            lastMonthOrderAmount += weekData[k].amount;\n            lastMonthOrderCount += weekData[k].quantity;\n          }\n        }\n      }\n\n      this.setState({\n        totalOrders: newState,\n        topFiveOrder: topFiveOrder.slice(0, 5),\n        bottomFiveOrder: bottomFiveOrder.slice(0, 5),\n        topFiveUsers: topFiveUsers.slice(0, 5),\n        bottomFiveUsers: bottomFiveUsers.slice(0, 5),\n        dateData: dateData,\n        amountData: amountData,\n        currentDayOrderCount: todayTotalOrderQuantity,\n        currentDayOrderAmount: todayTotalOrderAmount,\n        currentWeekOrderCount: currentWeekOrderCount,\n        currentWeekOrderAmount: currentWeekOrderAmount,\n        currentMonthOrderAmount: currentMonthOrderAmount,\n        currentMonthOrderCount: currentMonthOrderCount,\n        lastMonthOrderAmount: lastMonthOrderAmount,\n        lastMonthOrderCount: lastMonthOrderCount,\n      });\n    });\n  }\n\n  render() {\n    return (\n      <div className=\"conatiner\">\n        <Header />\n\n        <div className=\"box-outer\">\n          <Tile\n            Text1={\"Today’s total  number of Orders - \"}\n            Text2={\"Current week total order’s count - \"}\n            TodayOrderCount={this.state.currentDayOrderCount}\n            WeekOrderCount={this.state.currentWeekOrderCount}\n          />\n          <Tile\n            Text1={\"Today’s total  Order’s amount - \"}\n            Text2={\"Current week total order’s amount - \"}\n            TodayOrderCount={this.state.currentDayOrderAmount}\n            WeekOrderCount={this.state.currentWeekOrderAmount}\n          />\n          <Tile\n            Text1={\"Current month total order’s count - \"}\n            Text2={\"Last month total order’s count - \"}\n            TodayOrderCount={this.state.currentMonthOrderCount}\n            WeekOrderCount={this.state.lastMonthOrderCount}\n          />\n          <Tile\n            Text1={\"Current month total order’s amount -\"}\n            Text2={\"Last month total order’s amount-\"}\n            TodayOrderCount={this.state.currentMonthOrderAmount}\n            WeekOrderCount={this.state.lastMonthOrderAmount}\n          />\n        </div>\n\n        <Chart\n          dateData={this.state.dateData}\n          amountData={this.state.amountData}\n        />\n\n        <h2>Top five Order </h2>\n        <OrderTable orderTableData={this.state.topFiveOrder} />\n\n        <h2>Bottom five Order </h2>\n        <OrderTable orderTableData={this.state.bottomFiveOrder} />\n\n        <h2>Top five Users </h2>\n        <UserTable userTableData={this.state.topFiveUsers} />\n\n        <h2>Bottom five Users </h2>\n        <UserTable userTableData={this.state.bottomFiveUsers} />\n\n        <h2>Detail Order Report </h2>\n        <DetailTable detailTableData={this.state.totalOrders} />\n\n        <Footer />\n      </div>\n    );\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}